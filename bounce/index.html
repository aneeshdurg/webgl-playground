
<script src="https://aneeshdurg.me/webgl-common/common.js"></script>
<script src="../provider/provider.js"></script>
<script src="prog.js"></script>

<script>
    TITLE = "";
    NO_PROVIDER = false;
    DEFAULT_PROVIDER = 'Glass';
    document.addEventListener("DOMContentLoaded", async () => {
        document.getElementById("title").innerHTML = TITLE;

        await loadTwgl();

        const params = new URLSearchParams(location.search);
        let el = null;
        if (!NO_PROVIDER) {
            await loadAllProviders("../provider/");
            document.getElementById("ui-0").appendChild(get_provider_selector());

            document.querySelectorAll('[id^=ui-]').forEach(el => {
                if (el.id === "ui=0")
                    return;

                el.remove();
                document.getElementById("ui").appendChild(el);
                el.style.display = "";
            });

            el = await get_el(params, "provider", eval(DEFAULT_PROVIDER));
        }
        entryPoint(el, params);
    });
</script>

<div style="max-height: 20%">
<a href="../"><h1 id="title"></h1></a>
<div id="ui">
    <div id="ui-0"></div>
</div>
<hr>
<br><br>
</div>
<canvas id="glcanvas" style="height: 80%"></canvas>
<script>
    TITLE = "Bounce";
    NO_PROVIDER = true;
    function entryPoint() {
        orbits_main(document.getElementById("glcanvas"));
    }
</script>
