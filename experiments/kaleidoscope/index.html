<template>
<script>
    document.addEventListener("DOMContentLoaded", async () => {
        await loadTwgl();
        await loadAllProviders("../provider/");

        const params = new URLSearchParams(location.search);
        const el = await get_el(params);

        console.log("Mode", params.get("mode") || "RANDOM");
        kaleidoscope_main(
            document.getElementById("glcanvas"),
            el,
            params.get("mode") || "RANDOM"
        );
    });
</script>
